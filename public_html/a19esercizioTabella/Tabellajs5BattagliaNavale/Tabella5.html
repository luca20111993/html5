<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="TabellaCss5.css" rel="stylesheet" >
        <script>

            var memoria = [];



            function creaTabellaHTML(righe, colonne, fz) {
                righe = parseInt(righe)
                colonne = parseInt(colonne)
                var html = "<table>"
                for (var i = 0; i < righe; i++) {
                    html += "<tr>"
                    for (var j = 0; j < colonne; j++) {
                        html += "<td>"
                        html += fz(i, j)
                        html += "</td>"
                    }
                    html += "</tr>"
                }

                html += "</table>"
                return html
            }

            function crea() {
                var r = document.getElementById("txtRig").value;
                var c = document.getElementById("txtCol").value;

                var t = creaTabellaHTML(r, c,
                        function (riga, colonna) {



                            return ""

                        }
                )

                document.getElementById("tabella").innerHTML = t;
            }

            function random() {

                var r = parseInt(document.getElementById("txtRig").value);
                var c = parseInt(document.getElementById("txtCol").value);


                var rnd1 = Math.floor((Math.random() * r));
                var rnd2 = Math.floor((Math.random() * c));

                document.getElementById("txtColS").value = rnd1;
                document.getElementById("txtRigS").value = rnd2;
            }

            setInterval
                    (function () {
                        random(), Selezione(), memorizza(), leggiMemoria();
                    }
                    , 3000);


            function Selezione() {

                var pt1 = parseInt(document.getElementById("txtColS").value);

                var pt2 = parseInt(document.getElementById("txtRigS").value);

                var ics = "X"


                document.getElementsByTagName('table')[0].rows[pt2].cells[pt1].innerHTML = ics;


            }

            function memorizza() {

                var pt1 = (document.getElementById("txtColS").value);

                var pt2 = (document.getElementById("txtRigS").value);

                var punto = {"Riga": pt2, "colonna": pt1}
                memoria.push(punto);
            }

            function leggiMemoria() {
                var report = "";
                for (var i = 0; i < memoria.length; i++) {

                    report += "mossa numero " + (i + 1) + " colonna " + memoria[i].colonna + " riga " + memoria[i].Riga + "\n";
                }
                document.getElementById("deport").innerHTML = report + "\n"
            }

            function report() {
                var righ = (document.getElementById("txtRig").value);
                var col = (document.getElementById("txtCol").value);

                var report = "Creata una tabella con n°colonne: " + col + "\ne n° righe: " + righ;
                document.getElementById("report").innerHTML = report;

                document.getElementById("txtRig").value = empty;
                document.getElementById("txtCol").value = empty;
            }


        </script>
    </head>
    <body>




        <div id="container" >

            <div id="containerUser" >
                <p id="colP" >&nbsp;Inserire il numero <br>&nbsp;di colonne</p>
                <input id="txtCol"  type="text" value=""  >
                <br>
                <br>
                <br>
                <br>
                <br>
                <p id="rigP">&nbsp;Inserire il numero <br>&nbsp;di righe</p>
                <input id="txtRig"  type="text" value=""  >

                <input id="creaTab"  type="button" value="Creazione Tabella" onclick="crea(), report()" >



                <p id="report"></p>

            </div>



            <div id="tabella"   ></div>

            <div id="ContainerScelta">

                <p>&nbsp;Inserire colonna  &nbsp;desiderata :</p>
                <input id="txtColS" type="text" value="">
                <br>
                <br>
                <br>
                <br>
                <br>
                <p > &nbsp;Inserire riga  &nbsp;desiderata :</p>
                <input id="txtRigS" type="text" value="">

                <input id="btnScelta"  type="button" value="Punto Selezionato" onclick="Selezione(), memorizza(), leggiMemoria()" >
                <br>
                <input id="btnRandom"  type="button" value="Valori Random" onclick="random(), Selezione(), memorizza(), leggiMemoria()" >
            </div>

        </div>


        <div id="containerReport">
            <p >  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   Report delle mosse</p>
            <p id="deport"></p>

        </div>






    </body>
</html>
